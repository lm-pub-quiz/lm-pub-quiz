
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../evaluator/">
      
      
        <link rel="next" href="../dataset/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Model Interfaces - LM Pub Quiz</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#model-interfaces" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://lm-pub-quiz.github.io/" title="LM Pub Quiz" class="md-header__button md-logo" aria-label="LM Pub Quiz" data-md-component="logo">
      
  <img src="../../imgs/logo_transparent_white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LM Pub Quiz
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Model Interfaces
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lm-pub-quiz/lm-pub-quiz" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    lm-pub-quiz/lm-pub-quiz
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://lm-pub-quiz.github.io/" title="LM Pub Quiz" class="md-nav__button md-logo" aria-label="LM Pub Quiz" data-md-component="logo">
      
  <img src="../../imgs/logo_transparent_white.svg" alt="logo">

    </a>
    LM Pub Quiz
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lm-pub-quiz/lm-pub-quiz" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    lm-pub-quiz/lm-pub-quiz
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting started
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Example Workflow
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../trainer_integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Integration with Hugging Face's Trainer
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data_files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Structure of the Data Files
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../evaluator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evaluator
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Model Interfaces
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Model Interfaces
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#base-interface" class="md-nav__link">
    <span class="md-ellipsis">
      
        Base Interface
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lm_pub_quiz.ModelInterface" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ModelInterface
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ModelInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.ModelInterface.from_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.ModelInterface.score_statement_options" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;score_statement_options
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PLLModelInterfaceMixin
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" PLLModelInterfaceMixin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statement_options" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;score_statement_options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;score_statements
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" score_statements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements(statements)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;statements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements(text_roles)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;text_roles
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sentence-loglikelihood-based-interfaces" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sentence-Loglikelihood-based Interfaces
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CLMInterface
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" CLMInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface.encode" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;encode
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface.from_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_model
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" from_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface.from_model(model str | PreTrainedModel)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;model str | PreTrainedModel
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface.from_model(model_type str | None)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;model_type str | None
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface.score_statement_options" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;score_statement_options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface.score_statements" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;score_statements
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" score_statements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface.score_statements(statements)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;statements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface.score_statements(text_roles)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;text_roles
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MLMInterface
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" MLMInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.mask_token" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;mask_token
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.create_masked_requests" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_masked_requests
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.from_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_model
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" from_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.from_model(model str | PreTrainedModel)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;model str | PreTrainedModel
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.from_model(model_type str | None)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;model_type str | None
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.preprocess_statements" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;preprocess_statements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.process_extended_statements" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;process_extended_statements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.score_statement_options" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;score_statement_options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.score_statements" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;score_statements
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" score_statements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.score_statements(statements)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;statements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.score_statements(text_roles)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;text_roles
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-interfaces" class="md-nav__link">
    <span class="md-ellipsis">
      
        Other Interfaces
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TyQModelInterface
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" TyQModelInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.mask_token" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;mask_token
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.from_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_model
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" from_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.from_model(model str | PreTrainedModel)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;model str | PreTrainedModel
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.from_model(model_type str | None)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;model_type str | None
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataset/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dataset Representation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../result/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evaluation Result
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../base_classes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Base Clasess
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#base-interface" class="md-nav__link">
    <span class="md-ellipsis">
      
        Base Interface
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lm_pub_quiz.ModelInterface" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ModelInterface
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ModelInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.ModelInterface.from_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.ModelInterface.score_statement_options" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;score_statement_options
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PLLModelInterfaceMixin
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" PLLModelInterfaceMixin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statement_options" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;score_statement_options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;score_statements
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" score_statements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements(statements)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;statements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements(text_roles)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;text_roles
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sentence-loglikelihood-based-interfaces" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sentence-Loglikelihood-based Interfaces
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CLMInterface
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" CLMInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface.encode" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;encode
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface.from_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_model
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" from_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface.from_model(model str | PreTrainedModel)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;model str | PreTrainedModel
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface.from_model(model_type str | None)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;model_type str | None
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface.score_statement_options" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;score_statement_options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface.score_statements" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;score_statements
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" score_statements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface.score_statements(statements)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;statements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.CLMInterface.score_statements(text_roles)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;text_roles
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MLMInterface
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" MLMInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.mask_token" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;mask_token
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.create_masked_requests" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_masked_requests
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.from_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_model
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" from_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.from_model(model str | PreTrainedModel)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;model str | PreTrainedModel
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.from_model(model_type str | None)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;model_type str | None
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.preprocess_statements" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;preprocess_statements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.process_extended_statements" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;process_extended_statements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.score_statement_options" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;score_statement_options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.score_statements" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;score_statements
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" score_statements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.score_statements(statements)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;statements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.MLMInterface.score_statements(text_roles)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;text_roles
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-interfaces" class="md-nav__link">
    <span class="md-ellipsis">
      
        Other Interfaces
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TyQModelInterface
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" TyQModelInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.mask_token" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;mask_token
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.from_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_model
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" from_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.from_model(model str | PreTrainedModel)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;model str | PreTrainedModel
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.from_model(model_type str | None)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;model_type str | None
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
        
  
  
    <li class="md-path__item">
      <a href="../.." class="md-path__link">
        
  <span class="md-ellipsis">
    Getting started
  </span>

      </a>
    </li>
  

      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../evaluator/" class="md-path__link">
          
  <span class="md-ellipsis">
    API Reference
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/lm-pub-quiz/lm-pub-quiz/edit/main/docs/api/model_interfaces.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="model-interfaces">Model Interfaces<a class="headerlink" href="#model-interfaces" title="Permanent link">#</a></h1>
<p>A <code>ModelInterface</code> implements the interaction with the model: Taking a set of statements, it needs to score each of the options.
Depending on the type of the model (causal vs. masked language models), different <code>ModelInterface</code>s are required.</p>
<h2 id="base-interface">Base Interface<a class="headerlink" href="#base-interface" title="Permanent link">#</a></h2>


<div class="doc doc-object doc-class">



<h2 id="lm_pub_quiz.ModelInterface" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ModelInterface</span>


<a href="#lm_pub_quiz.ModelInterface" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents first">



        <p>Shared interface for methods that process each answer separately (PLL scoring) or sets of answers (like TYQ).</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            from_model


  
      abstractmethod
      classmethod
   (lm_pub_quiz.ModelInterface.from_model)" href="#lm_pub_quiz.ModelInterface.from_model">from_model</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Create a <code>ModelInterface</code> from the given parameters.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            score_statement_options


  
      abstractmethod
   (lm_pub_quiz.ModelInterface.score_statement_options)" href="#lm_pub_quiz.ModelInterface.score_statement_options">score_statement_options</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Score sets of text options.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>






<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="lm_pub_quiz.ModelInterface.from_model" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">from_model</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lm_pub_quiz.ModelInterface.from_model" class="headerlink" title="Permanent link">#</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">from_model</span><span class="p">(</span><span class="n"><span title="lm_pub_quiz.ModelInterface.from_model(model)">model</span></span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">,</span> <span class="o">**</span><span class="n"><span title="lm_pub_quiz.ModelInterface.from_model(**kw)">kw</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            ModelInterface (lm_pub_quiz.model_interface.base.ModelInterface)" href="#lm_pub_quiz.ModelInterface">ModelInterface</a></span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Create a <code>ModelInterface</code> from the given parameters.</p>
<p>Load the model, tokenizer, etc. and instantiate a <code>ModelInterface</code>.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lm_pub_quiz.ModelInterface.score_statement_options" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">score_statement_options</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#lm_pub_quiz.ModelInterface.score_statement_options" class="headerlink" title="Permanent link">#</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">score_statement_options</span><span class="p">(</span><span class="n"><span title="lm_pub_quiz.ModelInterface.score_statement_options(statement_options)">statement_options</span></span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Sequence">Sequence</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]],</span> <span class="o">*</span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.ModelInterface.score_statement_options(text_roles)">text_roles</span></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Sequence">Sequence</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.TextRoles">TextRoles</span></span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n"><span title="lm_pub_quiz.ModelInterface.score_statement_options(**kw)">kw</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.ItemTokenScoresAndRoles">ItemTokenScoresAndRoles</span></span><span class="p">],</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.ItemScores">ItemScores</span></span><span class="p">]]</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Score sets of text options.</p>
<p>The <code>ModelInterface</code> itself is resonsible for batching the requests.</p>


    </div>

</div>



  </div>

    </div>

</div><p>The <code>PLLModelInterfaceMixin</code> can be used to join the statement sets into one iterable, requiring the interface to just score individual texts.</p>


<div class="doc doc-object doc-class">



<h2 id="lm_pub_quiz.model_interface.PLLModelInterfaceMixin" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">PLLModelInterfaceMixin</span>


<a href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents first">



        <p>Interface for methods that assign a score per statement.</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            score_statement_options (lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statement_options)" href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statement_options">score_statement_options</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Join the sets of statements, process each statement, and order the scores according to the inputs.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            score_statements


  
      abstractmethod
   (lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements)" href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements">score_statements</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Score individual texts (independent of the other options) using the Casual/Masked Language Model.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>






<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statement_options" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">score_statement_options</span>


<a href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statement_options" class="headerlink" title="Permanent link">#</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">score_statement_options</span><span class="p">(</span><span class="n"><span title="lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statement_options(statement_options)">statement_options</span></span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Sequence">Sequence</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]],</span> <span class="o">*</span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statement_options(text_roles)">text_roles</span></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Sequence">Sequence</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.TextRoles">TextRoles</span></span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n"><span title="lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statement_options(**kw)">kw</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.ItemScores">ItemScores</span></span><span class="p">],</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.ItemTokenScoresAndRoles">ItemTokenScoresAndRoles</span></span><span class="p">]]</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Join the sets of statements, process each statement, and order the scores according to the inputs.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">score_statements</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements" class="headerlink" title="Permanent link">#</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">score_statements</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="statements (lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements(statements))" href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements(statements)">statements</a></span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">],</span> <span class="o">*</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="text_roles (lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements(text_roles))" href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements(text_roles)">text_roles</a></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.TextRoles">TextRoles</span></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n"><span title="lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements(**kw)">kw</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.StatementScore">StatementScore</span></span><span class="p">],</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.TokenScoresAndRoles">TokenScoresAndRoles</span></span><span class="p">]]</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Score individual texts (independent of the other options) using the Casual/Masked Language Model.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
<h4 id="lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements(statements)" class="doc doc-heading doc-heading-parameter">                  <code>statements</code>
<a href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements(statements)" class="headerlink" title="Permanent link">#</a></h4>            </td>
            <td>
                  <code><span title="collections.abc.Iterable">Iterable</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The statements to score.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements(text_roles)" class="doc doc-heading doc-heading-parameter">                  <code>text_roles</code>
<a href="#lm_pub_quiz.model_interface.PLLModelInterfaceMixin.score_statements(text_roles)" class="headerlink" title="Permanent link">#</a></h4>            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="collections.abc.Iterable">Iterable</span>[<span title="lm_pub_quiz.types.TextRoles">TextRoles</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Which parts of the statement are the answer, template, and subject.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="collections.abc.Iterable">Iterable</span>[<span title="lm_pub_quiz.types.StatementScore">StatementScore</span>], <span title="collections.abc.Iterable">Iterable</span>[<span title="lm_pub_quiz.types.TokenScoresAndRoles">TokenScoresAndRoles</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Scores (or scores and roles) per statement</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div><h2 id="sentence-loglikelihood-based-interfaces">Sentence-Loglikelihood-based Interfaces<a class="headerlink" href="#sentence-loglikelihood-based-interfaces" title="Permanent link">#</a></h2>
<p>The following interfaces implement (pseudo) loglikelihood scoring for the text options.</p>


<div class="doc doc-object doc-class">



<h2 id="lm_pub_quiz.model_interface.hf.CLMInterface" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">CLMInterface</span>


<a href="#lm_pub_quiz.model_interface.hf.CLMInterface" class="headerlink" title="Permanent link">#</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">CLMInterface</span><span class="p">(</span><span class="o">*</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.CLMInterface(*args)">args</span></span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.CLMInterface(ensure_bos_token_added)">ensure_bos_token_added</span></span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.CLMInterface(conditional_score)">conditional_score</span></span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.CLMInterface(**kw)">kw</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents first">














<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            encode (lm_pub_quiz.model_interface.hf.CLMInterface.encode)" href="#lm_pub_quiz.model_interface.hf.CLMInterface.encode">encode</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Encode the statements using the tokenizer and create an appropriate scoring mask.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            from_model


  
      classmethod
   (lm_pub_quiz.model_interface.hf.CLMInterface.from_model)" href="#lm_pub_quiz.model_interface.hf.CLMInterface.from_model">from_model</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Create an interface for the given model.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            score_statement_options (lm_pub_quiz.model_interface.hf.CLMInterface.score_statement_options)" href="#lm_pub_quiz.model_interface.hf.CLMInterface.score_statement_options">score_statement_options</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Join the sets of statements, process each statement, and order the scores according to the inputs.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            score_statements (lm_pub_quiz.model_interface.hf.CLMInterface.score_statements)" href="#lm_pub_quiz.model_interface.hf.CLMInterface.score_statements">score_statements</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Score individual texts (independent of the other options) using the Casual Language Model.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>






<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="lm_pub_quiz.model_interface.hf.CLMInterface.encode" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">encode</span>


<a href="#lm_pub_quiz.model_interface.hf.CLMInterface.encode" class="headerlink" title="Permanent link">#</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">encode</span><span class="p">(</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.CLMInterface.encode(statements)">statements</span></span><span class="p">:</span> <span class="n"><span title="collections.abc.Sequence">Sequence</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">],</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.CLMInterface.encode(roles)">roles</span></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Sequence">Sequence</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.TextRoles">TextRoles</span></span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n"><span title="tuple">tuple</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="transformers.BatchEncoding" href="https://huggingface.co/docs/transformers/main/en/main_classes/tokenizer#transformers.BatchEncoding">BatchEncoding</a></span><span class="p">,</span> <span class="n"><span title="collections.abc.Sequence">Sequence</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.ScoringMask">ScoringMask</span></span><span class="p">]]</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Encode the statements using the tokenizer and create an appropriate scoring mask.</p>
<p>In case the conditional scores need to be created, set the scoring mask accordingly.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lm_pub_quiz.model_interface.hf.CLMInterface.from_model" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">from_model</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lm_pub_quiz.model_interface.hf.CLMInterface.from_model" class="headerlink" title="Permanent link">#</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">from_model</span><span class="p">(</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.CLMInterface.from_model(model)">model</span></span><span class="p">:</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="transformers.PreTrainedModel" href="https://huggingface.co/docs/transformers/main/en/main_classes/model#transformers.PreTrainedModel">PreTrainedModel</a></span><span class="p">],</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.CLMInterface.from_model(model_type)">model_type</span></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.CLMInterface.from_model(**kw)">kw</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing_extensions.Self">Self</span></span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Create an interface for the given model.</p>
<p>In some cases, the model type can be derived from the model itself. To ensure
the right type is chosen, it's recommended to set <code>model_type</code> manually.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
<h4 id="lm_pub_quiz.model_interface.hf.CLMInterface.from_model(model str | PreTrainedModel)" class="doc doc-heading doc-heading-parameter">                  <code>model str | PreTrainedModel</code>
<a href="#lm_pub_quiz.model_interface.hf.CLMInterface.from_model(model str | PreTrainedModel)" class="headerlink" title="Permanent link">#</a></h4>            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The model to evaluate.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="lm_pub_quiz.model_interface.hf.CLMInterface.from_model(model_type str | None)" class="doc doc-heading doc-heading-parameter">                  <code>model_type str | None</code>
<a href="#lm_pub_quiz.model_interface.hf.CLMInterface.from_model(model_type str | None)" class="headerlink" title="Permanent link">#</a></h4>            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of model (determines the scoring scheme to be used).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>HFPLLModelInterface</code></td>            <td>
                  <code><span title="typing_extensions.Self">Self</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The evaluator instance suitable for the model.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lm_pub_quiz.model_interface.hf.CLMInterface.score_statement_options" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">score_statement_options</span>


<a href="#lm_pub_quiz.model_interface.hf.CLMInterface.score_statement_options" class="headerlink" title="Permanent link">#</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">score_statement_options</span><span class="p">(</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.CLMInterface.score_statement_options(statement_options)">statement_options</span></span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Sequence">Sequence</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]],</span> <span class="o">*</span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.CLMInterface.score_statement_options(text_roles)">text_roles</span></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Sequence">Sequence</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.TextRoles">TextRoles</span></span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.CLMInterface.score_statement_options(**kw)">kw</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.ItemScores">ItemScores</span></span><span class="p">],</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.ItemTokenScoresAndRoles">ItemTokenScoresAndRoles</span></span><span class="p">]]</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Join the sets of statements, process each statement, and order the scores according to the inputs.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lm_pub_quiz.model_interface.hf.CLMInterface.score_statements" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">score_statements</span>


<a href="#lm_pub_quiz.model_interface.hf.CLMInterface.score_statements" class="headerlink" title="Permanent link">#</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">score_statements</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="statements (lm_pub_quiz.model_interface.hf.CLMInterface.score_statements(statements))" href="#lm_pub_quiz.model_interface.hf.CLMInterface.score_statements(statements)">statements</a></span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">],</span> <span class="o">*</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="text_roles (lm_pub_quiz.model_interface.hf.CLMInterface.score_statements(text_roles))" href="#lm_pub_quiz.model_interface.hf.CLMInterface.score_statements(text_roles)">text_roles</a></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.TextRoles">TextRoles</span></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.CLMInterface.score_statements(batch_size)">batch_size</span></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="int">int</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.CLMInterface.score_statements(**kw)">kw</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.TokenScoresAndRoles">TokenScoresAndRoles</span></span><span class="p">],</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.StatementScore">StatementScore</span></span><span class="p">]]</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Score individual texts (independent of the other options) using the Casual Language Model.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
<h4 id="lm_pub_quiz.model_interface.hf.CLMInterface.score_statements(statements)" class="doc doc-heading doc-heading-parameter">                  <code>statements</code>
<a href="#lm_pub_quiz.model_interface.hf.CLMInterface.score_statements(statements)" class="headerlink" title="Permanent link">#</a></h4>            </td>
            <td>
                  <code><span title="collections.abc.Iterable">Iterable</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The statements to score.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="lm_pub_quiz.model_interface.hf.CLMInterface.score_statements(text_roles)" class="doc doc-heading doc-heading-parameter">                  <code>text_roles</code>
<a href="#lm_pub_quiz.model_interface.hf.CLMInterface.score_statements(text_roles)" class="headerlink" title="Permanent link">#</a></h4>            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="collections.abc.Iterable">Iterable</span>[<span title="lm_pub_quiz.types.TextRoles">TextRoles</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Which parts of the statement are the answer, template, and subject.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="collections.abc.Iterable">Iterable</span>[<span title="lm_pub_quiz.types.TokenScoresAndRoles">TokenScoresAndRoles</span>], <span title="collections.abc.Iterable">Iterable</span>[<span title="lm_pub_quiz.types.StatementScore">StatementScore</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Scores (or scores and roles) per statement</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="lm_pub_quiz.model_interface.hf.MLMInterface" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">MLMInterface</span>


<a href="#lm_pub_quiz.model_interface.hf.MLMInterface" class="headerlink" title="Permanent link">#</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">MLMInterface</span><span class="p">(</span><span class="o">*</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface(*args)">args</span></span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface(pll_metric)">pll_metric</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">=</span> <span class="s1">&#39;within_word_l2r&#39;</span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface(conditional_score)">conditional_score</span></span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface(preprocessing_batch_size)">preprocessing_batch_size</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span> <span class="o">**</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface(**kw)">kw</span></span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents first">














<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            create_masked_requests (lm_pub_quiz.model_interface.hf.MLMInterface.create_masked_requests)" href="#lm_pub_quiz.model_interface.hf.MLMInterface.create_masked_requests">create_masked_requests</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Extend the existing batch and mask the relevant tokens based on the scoring mask.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            from_model


  
      classmethod
   (lm_pub_quiz.model_interface.hf.MLMInterface.from_model)" href="#lm_pub_quiz.model_interface.hf.MLMInterface.from_model">from_model</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Create an interface for the given model.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            preprocess_statements (lm_pub_quiz.model_interface.hf.MLMInterface.preprocess_statements)" href="#lm_pub_quiz.model_interface.hf.MLMInterface.preprocess_statements">preprocess_statements</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Tokenize statements, translate text roles (char level) to token roles and determine which tokens to score.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            process_extended_statements (lm_pub_quiz.model_interface.hf.MLMInterface.process_extended_statements)" href="#lm_pub_quiz.model_interface.hf.MLMInterface.process_extended_statements">process_extended_statements</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Process a stream of inputs in batches.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            score_statement_options (lm_pub_quiz.model_interface.hf.MLMInterface.score_statement_options)" href="#lm_pub_quiz.model_interface.hf.MLMInterface.score_statement_options">score_statement_options</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Join the sets of statements, process each statement, and order the scores according to the inputs.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            score_statements (lm_pub_quiz.model_interface.hf.MLMInterface.score_statements)" href="#lm_pub_quiz.model_interface.hf.MLMInterface.score_statements">score_statements</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Score individual texts (independent of the other options) using the Masked Language Model.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            mask_token


  
      property
   (lm_pub_quiz.model_interface.hf.MLMInterface.mask_token)" href="#lm_pub_quiz.model_interface.hf.MLMInterface.mask_token">mask_token</a></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Return the mask token id used by the tokenizer.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>




<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="lm_pub_quiz.model_interface.hf.MLMInterface.mask_token" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mask_token</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#lm_pub_quiz.model_interface.hf.MLMInterface.mask_token" class="headerlink" title="Permanent link">#</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">mask_token</span><span class="p">:</span> <span class="n"><span title="int">int</span></span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Return the mask token id used by the tokenizer.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="lm_pub_quiz.model_interface.hf.MLMInterface.create_masked_requests" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">create_masked_requests</span>


<a href="#lm_pub_quiz.model_interface.hf.MLMInterface.create_masked_requests" class="headerlink" title="Permanent link">#</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">create_masked_requests</span><span class="p">(</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface.create_masked_requests(batch)">batch</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="transformers.BatchEncoding" href="https://huggingface.co/docs/transformers/main/en/main_classes/tokenizer#transformers.BatchEncoding">BatchEncoding</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" title="transformers.BatchEncoding" href="https://huggingface.co/docs/transformers/main/en/main_classes/tokenizer#transformers.BatchEncoding">BatchEncoding</a></span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Extend the existing batch and mask the relevant tokens based on the scoring mask.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lm_pub_quiz.model_interface.hf.MLMInterface.from_model" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">from_model</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lm_pub_quiz.model_interface.hf.MLMInterface.from_model" class="headerlink" title="Permanent link">#</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">from_model</span><span class="p">(</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface.from_model(model)">model</span></span><span class="p">:</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="transformers.PreTrainedModel" href="https://huggingface.co/docs/transformers/main/en/main_classes/model#transformers.PreTrainedModel">PreTrainedModel</a></span><span class="p">],</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface.from_model(model_type)">model_type</span></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface.from_model(**kw)">kw</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing_extensions.Self">Self</span></span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Create an interface for the given model.</p>
<p>In some cases, the model type can be derived from the model itself. To ensure
the right type is chosen, it's recommended to set <code>model_type</code> manually.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
<h4 id="lm_pub_quiz.model_interface.hf.MLMInterface.from_model(model str | PreTrainedModel)" class="doc doc-heading doc-heading-parameter">                  <code>model str | PreTrainedModel</code>
<a href="#lm_pub_quiz.model_interface.hf.MLMInterface.from_model(model str | PreTrainedModel)" class="headerlink" title="Permanent link">#</a></h4>            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The model to evaluate.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="lm_pub_quiz.model_interface.hf.MLMInterface.from_model(model_type str | None)" class="doc doc-heading doc-heading-parameter">                  <code>model_type str | None</code>
<a href="#lm_pub_quiz.model_interface.hf.MLMInterface.from_model(model_type str | None)" class="headerlink" title="Permanent link">#</a></h4>            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of model (determines the scoring scheme to be used).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>HFPLLModelInterface</code></td>            <td>
                  <code><span title="typing_extensions.Self">Self</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The evaluator instance suitable for the model.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lm_pub_quiz.model_interface.hf.MLMInterface.preprocess_statements" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">preprocess_statements</span>


<a href="#lm_pub_quiz.model_interface.hf.MLMInterface.preprocess_statements" class="headerlink" title="Permanent link">#</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">preprocess_statements</span><span class="p">(</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface.preprocess_statements(statements)">statements</span></span><span class="p">:</span> <span class="n"><span title="list">list</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">],</span> <span class="o">*</span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface.preprocess_statements(text_roles)">text_roles</span></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="list">list</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.TextRoles">TextRoles</span></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" title="transformers.BatchEncoding" href="https://huggingface.co/docs/transformers/main/en/main_classes/tokenizer#transformers.BatchEncoding">BatchEncoding</a></span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Tokenize statements, translate text roles (char level) to token roles and determine which tokens to score.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lm_pub_quiz.model_interface.hf.MLMInterface.process_extended_statements" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">process_extended_statements</span>


<a href="#lm_pub_quiz.model_interface.hf.MLMInterface.process_extended_statements" class="headerlink" title="Permanent link">#</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">process_extended_statements</span><span class="p">(</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface.process_extended_statements(large_batch)">large_batch</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="transformers.BatchEncoding" href="https://huggingface.co/docs/transformers/main/en/main_classes/tokenizer#transformers.BatchEncoding">BatchEncoding</a></span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface.process_extended_statements(batch_size)">batch_size</span></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="int">int</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="tuple">tuple</span></span><span class="p">[</span><span class="n"><span title="int">int</span></span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.types.ScoredToken">ScoredToken</span></span><span class="p">]]</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Process a stream of inputs in batches.</p>
<p>Each input statement typically requires multiple inputs to the model.
Since the exact number cannot be determined prior to tokenization, statements need to be tokenized already (and
then extended) before being processed by the model.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lm_pub_quiz.model_interface.hf.MLMInterface.score_statement_options" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">score_statement_options</span>


<a href="#lm_pub_quiz.model_interface.hf.MLMInterface.score_statement_options" class="headerlink" title="Permanent link">#</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">score_statement_options</span><span class="p">(</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface.score_statement_options(statement_options)">statement_options</span></span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Sequence">Sequence</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]],</span> <span class="o">*</span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface.score_statement_options(text_roles)">text_roles</span></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Sequence">Sequence</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.TextRoles">TextRoles</span></span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface.score_statement_options(**kw)">kw</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.ItemScores">ItemScores</span></span><span class="p">],</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.ItemTokenScoresAndRoles">ItemTokenScoresAndRoles</span></span><span class="p">]]</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Join the sets of statements, process each statement, and order the scores according to the inputs.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lm_pub_quiz.model_interface.hf.MLMInterface.score_statements" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">score_statements</span>


<a href="#lm_pub_quiz.model_interface.hf.MLMInterface.score_statements" class="headerlink" title="Permanent link">#</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">score_statements</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="statements (lm_pub_quiz.model_interface.hf.MLMInterface.score_statements(statements))" href="#lm_pub_quiz.model_interface.hf.MLMInterface.score_statements(statements)">statements</a></span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">],</span> <span class="o">*</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="text_roles (lm_pub_quiz.model_interface.hf.MLMInterface.score_statements(text_roles))" href="#lm_pub_quiz.model_interface.hf.MLMInterface.score_statements(text_roles)">text_roles</a></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.TextRoles">TextRoles</span></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface.score_statements(batch_size)">batch_size</span></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="int">int</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.MLMInterface.score_statements(**kw)">kw</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.TokenScoresAndRoles">TokenScoresAndRoles</span></span><span class="p">],</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="lm_pub_quiz.types.StatementScore">StatementScore</span></span><span class="p">]]</span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Score individual texts (independent of the other options) using the Masked Language Model.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
<h4 id="lm_pub_quiz.model_interface.hf.MLMInterface.score_statements(statements)" class="doc doc-heading doc-heading-parameter">                  <code>statements</code>
<a href="#lm_pub_quiz.model_interface.hf.MLMInterface.score_statements(statements)" class="headerlink" title="Permanent link">#</a></h4>            </td>
            <td>
                  <code><span title="collections.abc.Iterable">Iterable</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The statements to score.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="lm_pub_quiz.model_interface.hf.MLMInterface.score_statements(text_roles)" class="doc doc-heading doc-heading-parameter">                  <code>text_roles</code>
<a href="#lm_pub_quiz.model_interface.hf.MLMInterface.score_statements(text_roles)" class="headerlink" title="Permanent link">#</a></h4>            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="collections.abc.Iterable">Iterable</span>[<span title="lm_pub_quiz.types.TextRoles">TextRoles</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Which parts of the statement are the answer, template, and subject.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="collections.abc.Iterable">Iterable</span>[<span title="lm_pub_quiz.types.TokenScoresAndRoles">TokenScoresAndRoles</span>], <span title="collections.abc.Iterable">Iterable</span>[<span title="lm_pub_quiz.types.StatementScore">StatementScore</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Scores (or scores and roles) per statement</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div><h2 id="other-interfaces">Other Interfaces<a class="headerlink" href="#other-interfaces" title="Permanent link">#</a></h2>


<div class="doc doc-object doc-class">



<h2 id="lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">TyQModelInterface</span>


<a href="#lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface" class="headerlink" title="Permanent link">#</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">TyQModelInterface</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface(model)">model</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="transformers.PreTrainedModel" href="https://huggingface.co/docs/transformers/main/en/main_classes/model#transformers.PreTrainedModel">PreTrainedModel</a></span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface(model_type)">model_type</span></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface(model_name)">model_name</span></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface(model_kw)">model_kw</span></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="dict">dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface(tokenizer)">tokenizer</span></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="transformers.PreTrainedTokenizerFast">PreTrainedTokenizerFast</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface(device)">device</span></span><span class="p">:</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="torch.device">device</span></span><span class="p">,</span> <span class="n"><span title="int">int</span></span><span class="p">,</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface(batch_size)">batch_size</span></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
</span></code></pre></div>

    <div class="doc doc-contents first">














<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            from_model


  
      classmethod
   (lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.from_model)" href="#lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.from_model">from_model</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Create an interface for the given model.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            mask_token


  
      property
   (lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.mask_token)" href="#lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.mask_token">mask_token</a></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Return the mask token id used by the tokenizer.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>




<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.mask_token" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mask_token</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.mask_token" class="headerlink" title="Permanent link">#</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">mask_token</span><span class="p">:</span> <span class="n"><span title="int">int</span></span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Return the mask token id used by the tokenizer.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.from_model" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">from_model</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.from_model" class="headerlink" title="Permanent link">#</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">from_model</span><span class="p">(</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.from_model(model)">model</span></span><span class="p">:</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="transformers.PreTrainedModel" href="https://huggingface.co/docs/transformers/main/en/main_classes/model#transformers.PreTrainedModel">PreTrainedModel</a></span><span class="p">],</span> <span class="n"><span title="lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.from_model(model_type)">model_type</span></span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n"><span title="lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.from_model(**kw)">kw</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing_extensions.Self">Self</span></span>
</span></code></pre></div>

    <div class="doc doc-contents ">

        <p>Create an interface for the given model.</p>
<p>In some cases, the model type can be derived from the model itself. To ensure
the right type is chosen, it's recommended to set <code>model_type</code> manually.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
<h4 id="lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.from_model(model str | PreTrainedModel)" class="doc doc-heading doc-heading-parameter">                  <code>model str | PreTrainedModel</code>
<a href="#lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.from_model(model str | PreTrainedModel)" class="headerlink" title="Permanent link">#</a></h4>            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The model to evaluate.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.from_model(model_type str | None)" class="doc doc-heading doc-heading-parameter">                  <code>model_type str | None</code>
<a href="#lm_pub_quiz.model_interface.hf.tyq.TyQModelInterface.from_model(model_type str | None)" class="headerlink" title="Permanent link">#</a></h4>            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of model (determines the scoring scheme to be used).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>HFPLLModelInterface</code></td>            <td>
                  <code><span title="typing_extensions.Self">Self</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The evaluator instance suitable for the model.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../evaluator/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Evaluator">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Evaluator
              </div>
            </div>
          </a>
        
        
          
          <a href="../dataset/" class="md-footer__link md-footer__link--next" aria-label="Next: Dataset Representation">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Dataset Representation
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/lm-pub-quiz/lm-pub-quiz" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["search", "search.suggest", "search.highlight", "content.code.copy", "content.action.edit", "navigation.footer", "navigation.instant", "navigation.expand", "navigation.top", "navigation.tracking", "navigation.path"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>